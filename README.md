# Softwareentwicklungspraktikum (SEP) 2023 / 2024

## @mzoesch (Magnus Zoeschinger)

## Setup and run

Run the application's jar file with:

```
java -jar out/artifacts/SEP_WS2324_jar/SEP-WS2324.jar
```

### Compile from source

Compile and run the app from source with the batch file `run.bat` or with the following command:

```
cd src/ && javac app/App.java -d ../bin && cd ../bin && java app.App && cd ..
```

Requires Java 19 or higher.

## Rules

A card game of courtly romance and intrigue by Seiji Kanai <br />
Find the official rules [here](http://alderac.com/wp-content/uploads/2017/11/Love-Letter-Premium_Rulebook.pdf).

### Prolog

The guard looked Bartolemew Kaiss up and down for a moment, then frowned. "I'm sorry, Master Kaiss," she said, "but the princess is not seeing visitors at this time. She is, of course, in despair over the arrest of her mother." <p>
"Of course," the young composer said, nodding and looking appropriately sympathetic. "But I am not just visiting, you see. Her Highness requested my instruction. We are to practice her singing." <p>
"The princess already has a vocal maestro," the gruff woman replied, raising an eyebrow. <br />
"I'm sure he knows that, Odette," said a kind voice echoing down the hall that connected the residence to the palace. The two turned to see Susannah, one of Princess Annette's handmaids, walking toward them. "What the good composer means to say is that the Princess requested his work for their practice." The young woman smiled at the dour guard, then turned to give Bartolemew a conspiratorial wink. <p>
From his satchel, Bartolemew produced a sealed, wooden tube. "If you will be so kind as to deliver these sheets of music, my dear Susannah," he said with a smile and a genteel nod. The guard intercepted the tube, but as it changed hands, something with a little weight shifted inside it. <p>
"What's this, then?" the guard asked, jostling it next to her ear. Certainly not a small statue of a bird the Princess is so fond of, Bartolemew thought, but he quickly said, "The… quill and ink I used to pen the music, in case she or the maestro wish to make any changes. I always deliver some with a new composition." <p>
Susannah gently took the case from the suspicious guard. "Oh, would you stop, Odette? It's just some music," she chided playfully. "I'll see to it that milady gets these," she added, with a hand on Bartolemew's arm. "I'm sure she'll be eager to see the contents." <p>

### Object of the Game

In the wake of the arrest of Queen Marianna for high treason, none was more heartbroken than her daughter, Princess Annette. Suitors throughout the City-State of Tempest sought to ease Annette's sorrow by courting her, seeking to bring some joy into her life. <p>
You are one of these suitors, trying to get your love letter to the Princess. Unfortunately, she has locked herself in the palace, so you must rely on intermediaries to carry your message. <p>
During the game, you hold one secret card in your hand. This is who currently carries your message of love for the Princess. Make sure that the person closest to the Princess holds your love letter at the end of the day, so it reaches her first! <p>

### Game Cards

The game has 32 cards, 16 of which are used when playing with 2 to 4 players. The other 16 are added to the game when playing with 5 to 8 players. Each different card name represents someone at the royal residence. Each card has a number in the upper left corner — the higher the number, the closer that person is to the Princess. At the bottom of each card, a text box describes the effect that occurs when the card is discarded. <p>

### Tokens of Affection

The red, heart-shaped tokens are used to track Princess Annette's ever-growing affection for those suitors whose letters reach her. One of the tokens is not red. It is the Jester token, which is given to a player when they have been chosen by the Jester card effect. <p>

### Setup (two to four players)

If you are playing the game with 5 to 8 players, consult the setup and play rules on page 7. For 2 to 4 players, assemble the following cards into a deck and place the others aside, as they won't be used in the game: <p>

- Princess <br />
- Countess <br />
- King <br />
- Prince (2x) <br />
- Handmaid (2x) <br />
- Baron (2x) <br />
- Priest (2x) <br />
- Guard (5x) <br />

Shuffle these 16 cards to form a face-down draw deck. Remove the top card of the deck from the game without looking at it and place it aside. <br />
If you are playing a 2-player game, take 3 more cards from the top of the deck and place them to the side, face up. They will not be used during this round, but are available for all players to examine during the game. <br />
Each player draws 1 card from the deck. This is the player's hand, and is kept secret from the other players. Whoever was most recently on a date goes first (if tied, the youngest player wins the tie). <p>

### How to Play (two to four players)

Love Letter is played in a series of rounds. Each round represents one day. At the end of each round, one player's letter reaches Princess Annette, and she reads it. When she reads enough letters from one suitor, she becomes enamored and grants that suitor permission to court her. That player wins the Princess' heart and the game. <p>

#### Taking A Turn

On your turn, draw the top card from the deck and add it to your hand. Then, choose one of the two cards now in your hand and discard it face up in front of you. Apply any effect on the card you discarded. You must apply its effect, even if it is bad for you! <br />
See page 8 for the effects of each individual card. If you have any questions about special cases regarding the card, you'll find the answer there. <br />
All discarded cards remain in front of the player who discarded them. Overlap the cards so that it's clear in which order they were discarded. This helps players to figure out which cards other players might be holding. Once you finish applying the card's effect, the turn passes to the player on your left. <br />

#### Out of the Round

If a player is knocked out of the round, that player discards the card in his or her hand face up (but does not apply the card's effect) and takes no more turns until the next round. <br />

#### Choosing a Player

If you discard a card with an effect that requires you to choose a player that cannot be chosen due to another card effect (Sycophant, Handmaid), your card is discarded without effect. <br />

### End of a Round

A round ends if the deck is empty at the end of a player's turn. The royal residence closes for the evening, the person closest to the Princess delivers the love letter, and Princess Annette retires to her chambers to read it. All players still in the round reveal their hands. The player with the highest number in their hand wins the round. In case of a tie, players add the numbers on the cards in their discard pile. The highest total wins. If there is still a tie, then all tied players are considered to have won the round. <br />
A round also ends if all players but one are out of the round, in which case the remaining player wins. <p>
After a round ends, the winner (or winners, if there was a tie at the end of the round) receives a Token of Affection. Shuffle all 16 cards together, and play a new round following all of the setup rules above. The winner of the previous round goes first, because the Princess speaks kindly of him or her at breakfast. If there was more than one winner from the previous round as a result of a tie, then whichever of the tied players was most recently on a date goes first. <br />

#### Game End and How to Win (two to four Players)

A player wins the game after winning a number of Tokens of Affection based on the number of players: <br />

- 2 players: 7 tokens <br />
- 3 players: 5 tokens <br />
- 4 players: 4 tokens <br />

### About the People

<a name="princess-annette"></a>

#### 8: Princess Annette

Hampered only by the naïveté of youth, Princess Annette is elegant, charming, and beautiful. Obviously, you want the princess to carry your letter. However, she is self-conscious about matters of the heart, and if confronted, will toss your letter in the fire and deny looking at any correspondence. <p>
If you discard the Princess — no matter how or why — she has tossed your letter into the fire. You are immediately knocked out of the round. If the Princess was discarded by a card effect, any remaining effects of that card do not apply (you do not draw a card from the Prince, for example). Effects tied to being knocked out the round still apply (eg. Constable, Jester), however. <p>

#### 7: Countess Wilhelmina

Always on the prowl for a handsome man or juicy gossip, Wilhelmina's age and noble blood make her one of Princess Annette's friends. While she has great influence over the Princess, she makes herself scarce whenever the King or Prince are around. Unlike other cards, which take effect when discarded, the text on the Countess applies while she is in your hand. In fact, the only time it doesn't apply is when you discard her. <p>
If you ever have the Countess and either the King or Prince in your hand, you must discard the Countess. You do not have to reveal the other card in your hand. Of course, you can also discard the Countess even if you do not have a royal family member in your hand. The Countess likes to play mind games... <p>

#### 6: King Arnaud IV

The undisputed ruler of Tempest… for the moment. Because of his role in the arrest of Queen Marianna, he does not rate as highly with Princess Annette as a father should. He hopes to work himself back into her graces. <p>
When you discard King Arnaud IV, trade the card in your hand with the card held by another player of your choice. You cannot trade with a player who is out of the round. <p>

#### 5: Prince Arnaud

As a social gadfly, Prince Arnaud was not as distressed over his mother's arrest as one would suppose. Since many women clamor for his attention, he hopes to help his sister find the same banal happiness by playing matchmaker. <p>
When you discard Prince Arnaud, choose one player still in the round (including yourself). That player discards his or her hand (but doesn't apply its effect, unless it is the Princess, see [above](#princess-annette) and draws a new one. If the deck is empty and the player cannot draw a card, that player draws the card that was removed at the start of the round. If all other players are protected by the Handmaid, you must choose yourself. <p>

#### 4: Handmaid Susannah

Few would trust a mere Handmaid with a letter of importance. Fewer still understand Susannah's cleverness, or her skilled ability at playing the foolish Handmaid. That the Queen's confidante and loyal servant escaped any attention after the Queen's arrest is a testament to her clever mind. <p>
When you discard the Handmaid, you are immune to the effects of other players' cards until the start of your next turn. If all players other than the player whose turn it is are protected by the Handmaid, the player must choose him- or herself for a card's effects, if possible. <p>

#### 3: Baron Talus

The scion of an esteemed house that has long been a close ally of the royal family, Baron Talus has a quiet and gentle demeanor that conceals a man used to being obeyed. His suggestions are often treated as if they came from the King himself. <p>
When you discard the Baron, choose another player still in the round. You and that player secretly compare your hands. The player with the lower number is knocked out of the round. In case of a tie, nothing happens. <p>

#### 2: Priest Tomas

Open, honest, and uplifting, Father Tomas always seeks out the opportunity to do good. With the arrest of the Queen, he is often seen about the palace, acting as confessor, counselor, and friend. <p>
When you discard the Priest, you can look at another player's hand. Do not reveal the hand to any other players. <p>

#### 1: Guard Odette

Charged with seeing to the security of the royal family, Odette follows her orders with persistence and diligence… even though her mentor is said to have drowned while fleeing arrest for complicity in the Queen's treason. <p>
When you discard the Guard, choose a player and name a number (other than one). If that player has that number in their hand, that player is knocked out of the round. If all other players still in the round cannot be chosen (eg. due to Handmaid or Sycophant), this card is discarded without effect. <p>

## Links

GitLab: https://gitlab2.cip.ifi.lmu.de/zoeschinger/sep-ws2324 <br />
GitHub: https://github.com/mzoesch/SEP-WS2324 <br />

# TODO

Show current round in game <br />
Show detailed card info on hover <br />
